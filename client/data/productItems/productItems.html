<template name="productItems">
<div id="{{className}}" class="items">

<table id="productItemsList">

<tr class="tableHeader">
  <th class="productItemsListImage">Image</th>
  <th class="productItemsListCategory">Category</th>
  <th class="productItemsListManufacturer">Manufacturer</th>
  <th class="productItemsListModel">Model</th>
  <th class="productItemsListLifetime">Life-time</th>
  <th class="productItemsListDescription">Description</th>
  <th class="productItemsListSource">Source</th>
  <th class="productItemsListControls"></th>
</tr>

{{#if adding "productItems"}}
  {{> productItemsAdd}}
{{else}}
  {{> productItemsAddPrompt}}
{{/if}}

{{! TODO: List only the productItems that the logged user has inserted. }}

{{#each listItems "productItems"}}
  {{> productItemsItem}}
{{/each}}

</table>
</div>
</template>



<template name="productItemsAddPrompt">
<tr id="productItemsAddPrompt" class="productItemsEditableView itemsAddPrompt">
  <td colspan="7">Add new</td>
</tr>
</template>

<template name="productItemsAdd">
<tr class="itemsAdd productItemsEdit">
{{> productItemsEditableView}}
<td class="itemsAddControls itemsControls">
{{> itemsAddControls}}
</td>
</tr>
</template>




<template name="productItemsItem">
{{#if modeIs "productItems" "list"}}
  {{> productItemsList}}
{{/if}}
{{#if modeIs "productItems" "view"}}
  {{> productItemsView}}
{{/if}}
{{#if modeIs "productItems" "edit"}}
  {{> productItemsEdit}}
{{/if}}
{{#if modeIs "productItems" "remove"}}
  {{> productItemsRemove}}
{{/if}}
</template>

<template name="productItemsList">
<tr class="itemsList clickable">
{{> productItemsFullView}}
</tr>
</template>

<template name="productItemsView">
<tr class="itemsView">
{{> productItemsFullView}}
{{> itemsViewControls}}
</tr>
</template>

<template name="productItemsEdit">
<tr class="itemsEdit">
{{> productItemsEditableView}}
{{> itemsEditControls}}
</tr>
</template>


<template name="productItemsRemove">
<tr class="itemsRemove">
{{> productItemsFullView}}
{{> itemsRemoveControls}}
</tr>
</template>




<template name="productItemsQuickView">
  <!-- <td><img src="{{connectedItem 'image' image 'productItems'}}" alt="Image: {{connectedItem 'image' image 'productItems'}}" height="100px"/></td>
  <td>{{connectedItem "productType" productType "productItems"}}</td>
  <td>{{connectedItem "manufacturer" manufacturer "productItems"}}</td>
  <td>{{connectedItem "productModel" productModel "productItems"}}</td>
  -->
(quickview)
</template>


<template name="productItemsFullView">
<td><img src="{{image}}" alt="{{image}}" height="80px" /></td>
<td>{{productType}}</td>
<td>{{manufacturer}}</td>
<td>{{productModel}}</td>
<td>{{bought}} - {{broke}}</td>
<td>{{{nl2br brokeHow}}}</td>
<td>{{owner}}</td>
</template>

<template name="productItemsEditableView">
<td colspan="7" class="productItemsEditableView">
<form class="itemsAdd itemsEdit productItemsEdit"><table><tr><td>

<td class="productItemsListImage">
  <img src="{{image}}" alt="{{image}}"/>
  <input class="image" type="text" name="image" value="{{image}}"
    placeholder="Web link" />
  </td>

<td class="productItemsListCategory">{{> inputAutocomplete 
        settings=settingsProductType autocomplete="off" 
        id="productType" class="productType" name= "productType" 
        placeholder="Category" value=productType}}</td>
        
<td class="productItemsListManufacturer">{{> inputAutocomplete 
        settings=settingsManufacturer autocomplete="off" 
        id="manufacturer" class="manufacturer" name="manufacturer" 
        placeholder="Manufacturer" value=manufacturer}}</td>
        
<td class="productItemsListModel">{{> inputAutocomplete 
        settings=settingsProductModel autocomplete="off" 
        id="productModel" class="productModel" name="productModel" 
        placeholder="Model" value=productModel}}</td>
        
<td class="productItemsListLifetime"><input class="bought" type="text" name="bought" 
        value="{{bought}}" placeholder="Bought" autocomplete="off"/> -
      <input class="broke" type="text" name="broke" 
        value="{{broke}}" placeholder="Broke" autocomplete="off" /></td>
        
<td class="productItemsListDescription"><textarea class="brokeHow" name="brokeHow" value="{{brokeHow}}"
      maxLength="2000" rows="1" wrap="hard" placeholder="Description"></textarea></td>
      
<td class="productItemsListSource">{{> inputAutocomplete settings=settingsOwner autocomplete="off" id="owner"
        class="owner" name= "owner" placeholder="Source" value=owner}}</td>

</td></tr></table>
</form></td>
</template>



<!-- Autocomplete suggestions -->
<template name="productItemsAutocompleteManufacturer">
{{manufacturer}}
</template>
<template name="productItemsAutocompleteProductModel">
{{productModel}}
</template>
<template name="productItemsAutocompleteProductType">
{{productType}}
</template>
<template name="productItemsAutocompleteOwner">
{{owner}}
</template>












<template name="productItemsFullViewXX">
<table class="productItemsFullView"><tr>
<td class="imageContainer">
  <img src="{{image}}" alt="{{image}}" width="300px"/>
</td>
<td>
<fieldset name="productItem">
  <table>
    <tr><td>Manufacturer: </td><td class="manufacturer">{{manufacturer}}</td></tr>
    <tr><td>Model: </td><td class="productModel">{{productModel}}</td></tr>
    <tr><td>Category: </td><td class="productType">{{productType}}</td></tr>
    <tr><td>Life-time: </td><td class="bought">{{bought}} - {{broke}}</td></tr>
    <tr><td>Description</td><td class="brokeHow">{{brokeHow}}</td></tr>
    <tr><td>Owner: </td><td class="owner">{{owner}}</td></tr>
  </table>
</fieldset>
</td>
</tr>
</table>
</template>







<template name="OLD_productItemsEditableView">
<table class="productItemsEditableView"><tr>
<td class="imageContainer">
  <img src="{{image}}" alt="Image: {{image}}" width="300px"/>
  
  <!--<tr><td><input class="image" type="text"
    name="image" value="{{connectedItem 'image' image
    'productItems'}}" placeholder="A URL link to an image of the product" /></td></tr>
    -->
  <tr><td><input class="image" type="text"
    name="image" value="{{image}}"
    placeholder="A URL link to an image of the product" /></td></tr>
  
    
</td>
<td>
<fieldset name="productItem">
  <table>
    
    <tr><td>Manufacturer: </td><td>
      {{> inputAutocomplete settings=settingsManufacturer autocomplete="off" 
        id="manufacturer" class="manufacturer" name="manufacturer" 
        placeholder="Manufacturer" value=manufacturer}}
    </td></tr>

    <tr><td>Model: </td><td>
      {{> inputAutocomplete settings=settingsProductModel autocomplete="off" 
        id="productModel" class="productModel" name="productModel" 
        placeholder="Model" value=productModel}}
    </td></tr>

    <tr><td>Category: </td><td>
      {{> inputAutocomplete settings=settingsProductType autocomplete="off" 
        id="productType" class="productType" name= "productType" 
        placeholder="Category" value=productType}}
    </td></tr>
    
    <tr><td>Life-time: </td><td>
      <input class="bought" type="text" name="bought" 
        value="{{bought}}" placeholder="bought" /> -
      <input class="broke" type="text" name="broke" 
        value="{{broke}}" placeholder="broke" />
    </td></tr>
      
    <tr><td>Description</td><td><textarea class="brokeHow" name="brokeHow" value="{{brokeHow}}"
      rows="5" cols="50" maxLength="2000" wrap="hard" placeholder=
      "Description of the product, how did it break, etc." ></textarea></td></tr>
    
    
    <tr><td>Owner: </td><td>
      <!-- TODO 
      Helper for {{user}}:
      to input text field disabled 
      to .js Template.productItemsEditableView.helper.user 
      -->
      {{> inputAutocomplete settings=settingsOwner autocomplete="off" id="owner"
        class="owner" name= "owner" placeholder="Owner" value=owner}}
    </td></tr>

    
  </table>
</fieldset>
</td>
</tr>
</table>
</template>