<template name="productItems">
<div id="{{className}}" class="items">

<table id="productItemsList">
<tr class="tableHeader">
  <th id="productItemsListImage"></th>
  <th id="productItemsListCategory">Category</th>
  <th id="productItemsListManufacturer">Manufacturer</th>
  <th id="productItemsListModel">Model</th>
  <th id="productItemsListLifetime">Life-time</th>
  <!-- <th id="productItemsListDescription">Description</th> -->
</tr>

{{#if adding "productItems"}}
  {{> productItemsAdd}}
{{else}}
  {{> itemsAddPrompt className=className itemName=itemName}}
{{/if}}


{{! TODO: List only the productItems that the logged user has inserted. }}

{{#each listItems "productItems"}}
  {{> productItemsItem}}
{{/each}}

</table>
  
</div>
</template>



<template name="productItemsItem">
{{#if modeIs "productItems" "list"}}
  {{> productItemsList}}
{{/if}}
{{#if modeIs "productItems" "view"}}
  {{> productItemsView}}
{{/if}}
{{#if modeIs "productItems" "edit"}}
  {{> productItemsEdit}}
{{/if}}
{{#if modeIs "productItems" "remove"}}
  {{> productItemsRemove}}
{{/if}}
</template>




<template name="productItemsAdd">
<tr><td>
<form class="itemsAdd">
<tr><td>
<form class="itemsEdit productItemsEdit">
{{> productItemsEditableView}}
{{> itemsAddControls}}
</form>
</td></tr>

</form>
</td></tr>
</template>

<template name="productItemsList">
<tr class="itemsList clickable">
{{> productItemsQuickView}}
</tr>
</template>

<template name="productItemsView">
{{> productItemsList}}
<tr class="itemsView">
<td>
{{> productItemsFullView}}
{{> itemsViewControls}}
</td>
</tr>
</template>

<template name="productItemsEdit">
{{> productItemsList}}
<tr><td>
<form class="itemsEdit productItemsEdit">
{{> productItemsEditableView}}
{{> itemsEditControls}}
</form>
</td></tr>
</template>

<template name="productItemsRemove">
{{> productItemsList}}
<tr><td>
<form class="itemsRemove">
<table><tr>
{{> productItemsQuickView}}
</tr></table>
{{> itemsRemoveControls}}
</form>
</td></tr>
</template>





<template name="productItemsQuickView">
  <!-- <td><img src="{{connectedItem 'image' image 'productItems'}}" alt="Image: {{connectedItem 'image' image 'productItems'}}" height="100px"/></td>
  <td>{{connectedItem "productType" productType "productItems"}}</td>
  <td>{{connectedItem "manufacturer" manufacturer "productItems"}}</td>
  <td>{{connectedItem "productModel" productModel "productItems"}}</td>
  -->
  
  <td><img src="{{image}}" alt="Image: {{image}}" height="100px"/></td>
  <td>{{productType}}</td>
  <td>{{manufacturer}}</td>
  <td>{{productModel}}</td>
  <td>{{bought}} - {{broke}}</td>
  <!-- <td>{{{nl2br brokeHow}}}</td> -->
</template>


<template name="productItemsFullView">
<table class="productItemsFullView"><tr>
<td class="imageContainer">
  <img src="{{image}}" alt="Image: {{image}}" width="300px"/>
</td>
<td>
<fieldset name="productItem">
  <table>
    <tr><td>Manufacturer: </td><td class="manufacturer">{{manufacturer}}</td></tr>
    <tr><td>Model: </td><td class="productModel">{{productModel}}</td></tr>
    <tr><td>Category: </td><td class="productType">{{productType}}</td></tr>
    <tr><td>Life-time: </td><td class="bought">{{bought}} - {{broke}}</td></tr>
    <tr><td>Description</td><td class="brokeHow">{{brokeHow}}</td></tr>
    <tr><td>Owner: </td><td class="owner">{{owner}}</td></tr>
  </table>
</fieldset>
</td>
</tr>
</table>
</template>

<template name="productItemsEditableView">
<table class="productItemsEditableView"><tr>
<td class="imageContainer">
  <img src="{{image}}" alt="Image: {{image}}" width="300px"/>
  
  <!--<tr><td><input class="image" type="text"
    name="image" value="{{connectedItem 'image' image
    'productItems'}}" placeholder="A URL link to an image of the product" /></td></tr>
    -->
  <tr><td><input class="image" type="text"
    name="image" value="{{image}}"
    placeholder="A URL link to an image of the product" /></td></tr>
  
    
</td>
<td>
<fieldset name="productItem">
  <table>
    
    <tr><td>Manufacturer: </td><td>
      {{> inputAutocomplete settings=settingsManufacturer autocomplete="off" 
        id="manufacturer" class="manufacturer" name="manufacturer" 
        placeholder="Manufacturer" value=manufacturer}}
    </td></tr>

    <tr><td>Model: </td><td>
      {{> inputAutocomplete settings=settingsProductModel autocomplete="off" 
        id="productModel" class="productModel" name="productModel" 
        placeholder="Model" value=productModel}}
    </td></tr>

    <tr><td>Category: </td><td>
      {{> inputAutocomplete settings=settingsProductType autocomplete="off" 
        id="productType" class="productType" name= "productType" 
        placeholder="Product category" value=productType}}
    </td></tr>
    
    <tr><td>Life-time: </td><td>
      <input class="bought" type="text" name="bought" 
        value="{{bought}}" placeholder="bought" /> -
      <input class="broke" type="text" name="broke" 
        value="{{broke}}" placeholder="broke" />
    </td></tr>
      
    <tr><td>Description</td><td><textarea class="brokeHow" name="brokeHow" value="{{brokeHow}}"
      rows="5" cols="50" maxLength="2000" wrap="hard" placeholder=
      "Description of the product, how did it break, etc." ></textarea></td></tr>
    
    
    <tr><td>Owner: </td><td>
      <!-- TODO 
      Helper for {{user}}:
      to input text field disabled 
      to .js Template.productItemsEditableView.helper.user 
      -->
      {{> inputAutocomplete settings=settingsOwner autocomplete="off" id="owner"
        class="owner" name= "owner" placeholder="Owner" value=owner}}
    </td></tr>

    
  </table>
</fieldset>
</td>
</tr>
</table>
</template>

<template name="productItemsAutocompleteOwner">
  {{owner}}
</template>

<template name="productItemsAutocompleteManufacturer">
  {{manufacturer}}
</template>


<template name="productItemsAutocompleteProductModel">
  {{productModel}}
</template>

<template name="productItemsAutocompleteProductType">
  {{productType}}
</template>
