<template name="societies">
<div id="{{className}}" class="items">

  {{#if adding "societies"}}
    {{> societiesAdd}}
  {{else}}
    {{> societiesAddPrompt}}
  {{/if}}

  {{#each listItems "societies"}}
    {{> societiesItem}}
  {{/each}}

</div>
</template>


<template name="societiesAddPrompt">
<button id="societiesAddPrompt" class="button societiesEditableView itemsAddPrompt">
  Create a new society
</button>
</template>

<template name="societiesAdd">
<div class="itemsAdd societiesEdit">
  {{> societiesEditableView}}
  <div class="itemsAddControls itemsControls">
    {{> itemsAddControls}}
  </div>
</div>
</template>

<template name="societiesItem">
{{#if modeIs "societies" "list"}}
  {{> societiesList}}
{{/if}}
{{#if modeIs "societies" "view"}}
  {{> societiesView}}
{{/if}}
{{#if modeIs "societies" "edit"}}
  {{> societiesEdit}}
{{/if}}
{{#if modeIs "societies" "remove"}}
  {{> societiesRemove}}
{{/if}}
</template>

<template name="societiesList">
<div class="button itemsList clickable societyList">
{{> societiesQuickView}}
</div>
</template>


<template name="societiesView">
<div class="itemsView">
{{> societiesFullView}}

{{#if haveEditAccessToTheItem }}
  {{> itemsViewControls}}
{{else}}
  {{> itemsViewRestrictedControls}}
{{/if}}

{{> societiesJoin}}
</div>
</template>


<template name="societiesEdit">
<div class="itemsEdit">
{{> societiesEditableView}}
{{> itemsEditControls}}
</div>
</template>


<template name="societiesRemove">
<div class="itemsRemove">
{{> societiesFullView}}
{{> itemsRemoveControls}}
</div>
</template>


<template name="societiesQuickView">
  {{name}}: ({{since}})
</template>

<template name="societiesFullView">
<table>
  <tr><td>Name: {{name}}</td></tr>
  <tr><td>Rules: {{rules}}</td></tr>
  <tr><td>Members: {{#each getMembers}} {{showEmail}} {{/each}} </td></tr>
  <tr><td>Since: {{since}}</td></tr>
  <tr><td>Issues: {{issues}}</td></tr>
</table>
</template>



<template name="societiesEditableView">
<form class="itemsAdd itemsEdit societiesEdit">
<table>
  <tr><td><input class="name" type="text" name="name" value="{{name}}" placeholder="Name" /></td></tr>
  <tr><td><input class="since" type="text" name="since" value="{{since}}" placeholder="Since" /></td></tr>
  <tr><td><input class="issues" type="text" name="issues" value="{{issues}}" placeholder="Issues" /></td></tr>
  <tr><td><textarea class="rules" name="rules" value="{{rules}}" rows="5" cols="50" maxLength="2000" wrap="hard" placeholder="Rules" ></textarea></td></tr>
  <tr><td><input class="owner" type="hidden" name="owner" value="{{userId}}" readonly=readonly /><p>{{userEmail}}</p></td></tr>

</table>
</form>
</template>


<template name="societiesJoin">
{{#if memberOfTheSociety }}
  <button class="button exit">Exit</button>
{{else}}
  <button class="button join">Join</button>
{{/if}}
</template>
